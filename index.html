<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>static site generator based on org mode - org2web</title>
    <meta charset="utf-8" />
    <meta name="author" content="Feng Shu" />
    <link rel="stylesheet" href="http://tumashu.github.com/org2web/media/css/main.css" type="text/css">
  </head>
<body class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="http://tumashu.github.com/org2web/">org2web</a> <span class="subtitle">(Static site senerator based on org mode)</span></h1>
        <ul>
          <li><a href="http://tumashu.github.com/org2web/changelog/">Changelog</a></li>
          <li><a href="http://tumashu.github.com/org2web/documents/">Documents</a></li>
          <li><a href="http://tumashu.github.com/org2web/tags/">Tags</a></li>
          <li><a href="http://tumashu.github.com/org2web/about/">About</a></li>
          <li><a href="https://github.com/tumashu/org2web">GitHub</a></li>
          <li><a href="http://tumashu.github.com/org2web/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="http://www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="tumashu.github.com/org2web">
        </form>
        <img class="avatar" src="http://tumashu.github.com/org2web/media/img/horse.jpg" />
      </header>
    </div>

<div class="content-and-footer">
<div>
<div class="post">
<h1 class="post-title">static site generator based on org mode</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org2080872">1. org2web README</a>
<ul>
<li><a href="#org04c168f">1.1. Installation</a></li>
<li><a href="#orgfb9abc9">1.2. Configuration</a></li>
<li><a href="#orge1f2142">1.3. Publication</a></li>
<li><a href="#org6fc0f1b">1.4. Dependencies</a></li>
<li><a href="#org492d483">1.5. Known issues</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org2080872" class="outline-2">
<h2 id="org2080872"><span class="section-number-2">1</span> org2web README</h2>
<div class="outline-text-2" id="text-1">
<p>
org2web is the new name of org-webpage, the reason of renaming org-webpage to org2web
is: <a href="https://github.com/purcell/package-lint/issues/75">https://github.com/purcell/package-lint/issues/75</a>
</p>

<p>
org2web is a static site generator based on <a href="http://orgmode.org/">org-mode</a>,
which code derived from Kelvin H's <a href="https://github.com/kelvinh/org-page">org-page</a>.
</p>

<p>
The main differents of two projects are as follow:
</p>

<ol class="org-ol">
<li><p>
org2web's core <b>don't hard code git</b>, its process is like below:
</p>
<pre class="example">

[ Org files in repository]  [ Website project configure ]

             |                           |
        &lt; Export &gt;                 &lt; Generate &gt;
             |                           |

       [ HTML files ]               [ Uploader ]  &lt;- ( Uploader is a bash script )

             |                           |
             |                           |
             +-------------+-------------+
                           |
                           |
                   &lt; Run Uploader &gt;  &lt;- ( For example: git uploader, rclone uploader or others )
                           |
                           |

                       [ REMOTE ]
</pre></li>

<li>org2web's default config is `org-publish-project-alist' style alist,
which can manage multi-site configs in an emacs session easily.</li>
<li>org-website find theme-files from a <b>themes-list</b> in sequence and same theme-file
first found will be used. User can set <b>fallback theme</b> with the help of this feature.</li>
<li>org-website include a tiny emacs web server, which can be used to test publish.</li>
<li>org-website can use other uploaders to upload website, for example: rclone.</li>
<li>&#x2026;</li>
</ol>
</div>

<div id="outline-container-org04c168f" class="outline-3">
<h3 id="org04c168f"><span class="section-number-3">1.1</span> Installation</h3>
<div class="outline-text-3" id="text-1-1">
<p>
org2web is now available from the famous emacs package repo <a href="http://melpa.milkbox.net/">melpa</a>
so the recommended way is to install it through emacs package
management system. For more info about installation, please see
<b>tips.org</b> in the "doc" folder.
</p>
</div>
</div>

<div id="outline-container-orgfb9abc9" class="outline-3">
<h3 id="orgfb9abc9"><span class="section-number-3">1.2</span> Configuration</h3>
<div class="outline-text-3" id="text-1-2">
<p>
org2web use variable `org2web-projects' to store all projects's configures, user
can add a project with the help of `add-to-list' function, but the easiest way is
using `org2web-add-project' function.
</p>

<p>
The follow code is <a href="http://tumashu.github.com">my website</a>'s <a href="https://github.com/tumashu/tumashu.github.com/blob/source/eh-website.el">config</a>,
you can adjust and paste it to your <code>.emacs</code> file:
</p>

<pre class="example">
(add-to-list 'load-path "path/to/org2web") ; Only needed if you install org2web manually

(require 'org2web)

(org2web-add-project
 '("tumashu.github.com"
   :repository-directory "~/project/emacs-packages/tumashu.github.com"
   :remote (git "https://github.com/tumashu/tumashu.github.com.git" "master")
   ;; you can use `rclone` with `:remote (rclone "remote-name" "/remote/path/location")` instead.
   :site-domain "http://tumashu.github.com/"
   :site-main-title "Tumashu 的个人小站"
   :site-sub-title "(九天十地，太上忘情！！！)"
   :theme (worg)
   :source-browse-url ("Github" "https://github.com/tumashu/tumashu.github.com")
   :personal-avatar "/media/img/horse.jpg"
   :personal-duoshuo-shortname "tumashu-website"
   :web-server-port 7654))
</pre>

<p>
<a href="https://github.com/tumashu/pyim">pyim</a> 's org2web <a href="https://github.com/tumashu/pyim/blob/master/pyim-devtools.el">config</a> is a more complex example.
</p>

<p>
You can find more config options and theirs default values by commands:
</p>

<pre class="example">
C-h v org2web-projects
C-h v org2web-config-fallback
</pre>
</div>
</div>

<div id="outline-container-orge1f2142" class="outline-3">
<h3 id="orge1f2142"><span class="section-number-3">1.3</span> Publication</h3>
<div class="outline-text-3" id="text-1-3">
<pre class="example">
M-x org2web-publish
</pre>
</div>
</div>

<div id="outline-container-org6fc0f1b" class="outline-3">
<h3 id="org6fc0f1b"><span class="section-number-3">1.4</span> Dependencies</h3>
<div class="outline-text-3" id="text-1-4">
<ol class="org-ol">
<li><a href="http://www.gnu.org/software/emacs/">emacs</a>: this is an "of-course" dependency</li>
<li><a href="http://orgmode.org/">org mode</a>: v8.0 is required, please use <code>M-x org-version &lt;RET&gt;</code> to make sure you org mode version is not less than 8.0</li>
<li><a href="http://www.gnu.org/software/bash/">bash</a>: the GNU Project's shell</li>
<li><a href="http://git-scm.com">git</a>: a free and open source version control system</li>
<li><a href="http://rclone.org/downloads/">rclone</a>: support to other remote locations, see rclone's overview for more information. (Optional)</li>
<li><a href="https://github.com/Wilfred/mustache.el">mustache.el</a>: a mustache templating library for Emacs</li>
<li><a href="http://fly.srk.fer.hr/~hniksic/emacs/htmlize.el.cgi">htmlize.el</a>: a library for syntax highlighting (usually this library is shipped with emacs)</li>
<li><a href="https://github.com/magnars/dash.el">dash.el</a>: a modern list library for Emacs</li>
<li><a href="https://github.com/Wilfred/ht.el">ht.el</a>: a modern hash-table library for Emacs</li>
<li><a href="https://github.com/skeeto/emacs-web-server">simple-httpd</a>: Extensible Emacs HTTP 1.1 server</li>
</ol>
</div>
</div>

<div id="outline-container-org492d483" class="outline-3">
<h3 id="org492d483"><span class="section-number-3">1.5</span> Known issues</h3>
<div class="outline-text-3" id="text-1-5">
<ol class="org-ol">
<li>Currently the deletion change handler has not been implemented so
if you deleted some org sources, you may have to manually delete
corresponding generated html files.</li>
<li>URI path change detection is not available. That is, if you make a
post with the URI "/blog/2013/03/25/the-old-post-name" and then
change this value in your org source, org2web would be unable to
detect that this has happened. it will only publish a new html
file for you so you need to delete the old html file related to
the old URI manually.</li>
</ol>
</div>
</div>
</div>

</div>
</div>
    <div>
      <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
          Copyright &copy; <span id="footerYear"></span> <a href="mailto:tumashu &lt;at&gt; 163 &lt;dot&gt; com">Feng Shu</a>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          Powered by <a href="https://github.com/tumashu/org2web" target="_blank">org2web</a>
          <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
      </div>
    </div>

</div>
</body>
</html>
